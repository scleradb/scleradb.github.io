
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Documentation for Sclera and its plugins">
      
      
        <meta name="author" content="Sclera, Inc.">
      
      
        <link rel="canonical" href="https://www.scleradb.com/docs/sclerasql/sqlextml/">
      
      <link rel="icon" href="../../images/icons/favicon.ico">
      <meta name="generator" content="mkdocs-1.2.3, mkdocs-material-8.1.11">
    
    
      
        <title>Using Machine Learning - Sclera Documentation</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.50e68009.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.e6a45f82.min.css">
        
          
          
          <meta name="theme-color" content="#000000">
        
      
    
    
    
      
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,400,400i,700%7CCourier+Prime&display=fallback">
        <style>:root{--md-text-font:"Open Sans";--md-code-font:"Courier Prime"}</style>
      
    
    
      <link rel="stylesheet" href="../../css/docs.css">
    
    <script>__md_scope=new URL("../..",location),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      
  


  
  


  <script>window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","UA-47770601-1","auto"),ga("set","anonymizeIp",!0),ga("send","pageview"),document.addEventListener("DOMContentLoaded",function(){document.forms.search&&document.forms.search.query.addEventListener("blur",function(){var e;this.value&&(e=document.location.pathname,ga("send","pageview",e+"?q="+this.value))}),"undefined"!=typeof location$&&location$.subscribe(function(e){ga("send","pageview",e.pathname)})})</script>
  <script async src="https://www.google-analytics.com/analytics.js"></script>


    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="" data-md-color-primary="black" data-md-color-accent="indigo">
  
    
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#classification" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="Sclera Documentation" class="md-header__button md-logo" aria-label="Sclera Documentation" data-md-component="logo">
      
  <img src="../../images/sclera-logo-square.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Sclera Documentation
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Using Machine Learning
            
          </span>
        </div>
      </div>
    </div>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Sclera Documentation" class="md-nav__button md-logo" aria-label="Sclera Documentation" data-md-component="logo">
      
  <img src="../../images/sclera-logo-square.png" alt="logo">

    </a>
    Sclera Documentation
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="/" class="md-nav__link">
        Home
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="https://github.com/scleradb" class="md-nav__link">
        Source Code
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        Documentation Contents
      </a>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4" type="checkbox" id="__nav_4" >
      
      
      
      
        <label class="md-nav__link" for="__nav_4">
          Introduction
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Introduction" data-md-level="1">
        <label class="md-nav__title" for="__nav_4">
          <span class="md-nav__icon md-icon"></span>
          Introduction
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../intro/whysclera/" class="md-nav__link">
        Why Sclera?
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../intro/faq/" class="md-nav__link">
        FAQ
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../intro/technical/" class="md-nav__link">
        Technical Details
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_5" type="checkbox" id="__nav_5" >
      
      
      
      
        <label class="md-nav__link" for="__nav_5">
          Setup
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Setup" data-md-level="1">
        <label class="md-nav__title" for="__nav_5">
          <span class="md-nav__icon md-icon"></span>
          Setup
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../setup/components/" class="md-nav__link">
        Components Reference
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../setup/install/" class="md-nav__link">
        Installation Reference
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../setup/dbms/" class="md-nav__link">
        Data Platform Connection Reference
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../setup/configuration/" class="md-nav__link">
        Configuration Reference
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_6" type="checkbox" id="__nav_6" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_6">
          ScleraSQL
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="ScleraSQL" data-md-level="1">
        <label class="md-nav__title" for="__nav_6">
          <span class="md-nav__icon md-icon"></span>
          ScleraSQL
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../sqlexamples/" class="md-nav__link">
        ScleraSQL Examples
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../sqlintro/" class="md-nav__link">
        ScleraSQL Introduction
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../sqlregular/" class="md-nav__link">
        Standard SQL
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../sqlcrosstab/" class="md-nav__link">
        Using Cross-Tabulation
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../sqlextordered/" class="md-nav__link">
        Processing Ordered Data
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../sqlseqalign/" class="md-nav__link">
        Sequence Alignment
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../sqlextarg/" class="md-nav__link">
        Selecting the Optimal
      </a>
    </li>
  

            
          
            
              
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          Using Machine Learning
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        Using Machine Learning
      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#classification" class="md-nav__link">
    Classification
  </a>
  
    <nav class="md-nav" aria-label="Classification">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#classifier-training" class="md-nav__link">
    Classifier Training
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#classifier-application" class="md-nav__link">
    Classifier Application
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#clustering" class="md-nav__link">
    Clustering
  </a>
  
    <nav class="md-nav" aria-label="Clustering">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#clusterer-training" class="md-nav__link">
    Clusterer Training
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#clusterer-application" class="md-nav__link">
    Clusterer Application
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#extended-syntax-for-using-specific-libraries-and-algorithms" class="md-nav__link">
    Extended Syntax for Using Specific Libraries and Algorithms
  </a>
  
    <nav class="md-nav" aria-label="Extended Syntax for Using Specific Libraries and Algorithms">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#extended-syntax-for-classification" class="md-nav__link">
    Extended Syntax for Classification
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#extended-syntax-for-clustering" class="md-nav__link">
    Extended Syntax for Clustering
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../sqlcleaning/" class="md-nav__link">
        Data Cleaning
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../sqlexttext/" class="md-nav__link">
        Using Text Analytics
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../sqlextdataaccess/" class="md-nav__link">
        External Data Access
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../visualization/" class="md-nav__link">
        Visualization
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../sqlmisc/" class="md-nav__link">
        Miscellaneous Information
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_7" type="checkbox" id="__nav_7" >
      
      
      
      
        <label class="md-nav__link" for="__nav_7">
          Interface
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Interface" data-md-level="1">
        <label class="md-nav__title" for="__nav_7">
          <span class="md-nav__icon md-icon"></span>
          Interface
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../interface/shell/" class="md-nav__link">
        Command Line Shell Reference
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../interface/jdbc/" class="md-nav__link">
        Embedded JDBC Reference
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_8" type="checkbox" id="__nav_8" >
      
      
      
      
        <label class="md-nav__link" for="__nav_8">
          Sclera Extensions SDK
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Sclera Extensions SDK" data-md-level="1">
        <label class="md-nav__title" for="__nav_8">
          <span class="md-nav__icon md-icon"></span>
          Sclera Extensions SDK
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../sdk/sdkintro/" class="md-nav__link">
        Extensions SDK Introduction
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../sdk/sdkextdataaccess/" class="md-nav__link">
        Data Access Plugins
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../sdk/sdkextdbms/" class="md-nav__link">
        Database System Plugins
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../sdk/sdkextml/" class="md-nav__link">
        Machine Learning Library Plugins
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../sdk/sdkexttext/" class="md-nav__link">
        Text Analytics Library Plugins
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_9" type="checkbox" id="__nav_9" >
      
      
      
      
        <label class="md-nav__link" for="__nav_9">
          Acknowledgements
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Acknowledgements" data-md-level="1">
        <label class="md-nav__title" for="__nav_9">
          <span class="md-nav__icon md-icon"></span>
          Acknowledgements
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../ack/dependencies/" class="md-nav__link">
        Component Third Party Dependencies
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../ack/licenses/" class="md-nav__link">
        Component Licenses
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#classification" class="md-nav__link">
    Classification
  </a>
  
    <nav class="md-nav" aria-label="Classification">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#classifier-training" class="md-nav__link">
    Classifier Training
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#classifier-application" class="md-nav__link">
    Classifier Application
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#clustering" class="md-nav__link">
    Clustering
  </a>
  
    <nav class="md-nav" aria-label="Clustering">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#clusterer-training" class="md-nav__link">
    Clusterer Training
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#clusterer-application" class="md-nav__link">
    Clusterer Application
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#extended-syntax-for-using-specific-libraries-and-algorithms" class="md-nav__link">
    Extended Syntax for Using Specific Libraries and Algorithms
  </a>
  
    <nav class="md-nav" aria-label="Extended Syntax for Using Specific Libraries and Algorithms">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#extended-syntax-for-classification" class="md-nav__link">
    Extended Syntax for Classification
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#extended-syntax-for-clustering" class="md-nav__link">
    Extended Syntax for Clustering
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content" data-md-component="content">
            <article class="md-content__inner md-typeset">
              
                

  <h1>Using Machine Learning</h1>

<p>Sclera provides machine learning via first-class constructs in SQL. You can create objects such as classifiers and clusterers as easily as you create tables -- using a single <code>CREATE ... AS</code> statement. Further, Sclera provides SQL operators that enable classification/clustering of rows as a part of a SQL query.</p>
<p>Off the shelf libraries such as <a href="http://www.cs.waikato.ac.nz/ml/weka/">Weka</a> enable you to write applications with embedded machine learning. But to use these libraries without Sclera, you need to learn the proprietary APIs, and write code that complies with the same. This takes a lot of preparation and background, and is highly disruptive.</p>
<p>Sclera provides a set of machine learning operators; these are a part of the SQL language, just like <code>JOIN</code>, <code>WHERE</code>, <code>ORDER BY</code>, <code>GROUP BY</code>, <code>HAVING</code> and <code>LIMIT</code> in regular SQL. These new operators are evaluated by calling the analytics library of choice -- reformatting the data, calling the right API functions, collating and reformatting the results and all the other boilerplate happens automatically, behind the scenes.</p>
<p>The result is a highly compact "declarative" way of doing analytics, something that you can get started on almost immediately if you know basic SQL.</p>
<h2 id="classification">Classification<a class="headerlink" href="#classification" title="Permanent link">&#9668;</a></h2>
<p>Consider a table <code>survey</code> with columns:</p>
<pre><code>age int
gender char(1)
region char(4)
income real
married boolean
children int
car boolean
save_act boolean
current_act boolean
mortgage boolean
isinterested boolean
</code></pre>
<p>This table contains data from a customer survey, with one row per response. Apart from the customer attributes, it includes a column <code>isinterested</code> on whether or not the customer is interested in your product.</p>
<p>Now, suppose you want to consider a new group of people and identify which of them might be interested in your product versus not.</p>
<p>A <a href="http://en.wikipedia.org/wiki/Statistical_classification">classifier</a> is the right tool to help you do this. A classifier estimates the value of a discrete-valued "target" variable given the values of certain "feature" variables. The classifier can be trained given the sample target and feature values for a set of sample instances, called the "training data".</p>
<p>In the example above, the table <code>survey</code> is the training data; each row in the table (representing a unique customer) is a data instance, with the column <code>isinterested</code> as the target variable and the other columns as the feature variables.</p>
<p>The trained classifier can be used to "classify" new data instances -- that is, estimate target values given the feature values in these data instances. In terms of the example, this means identifying the value of <code>isinterested</code> for a new customer, which is what we started out to do.</p>
<p>In this section, we show <a href="#classifier-training">how to train classifiers</a> in Sclera, and <a href="#classifier-application">use them to classify new data instances</a> within a SQL query.</p>
<h3 id="classifier-training">Classifier Training<a class="headerlink" href="#classifier-training" title="Permanent link">&#9668;</a></h3>
<p>The formal syntax for creating a classifier is as follows:</p>
<pre><code>CREATE [ { TEMPORARY | TEMP } ] CLASSIFIER classifier_name ( target_column_name ) USING table_expression
</code></pre>
<p>This creates a classifier with the name specified by <code>classifier_name</code>. The classifier is trained using the result of the <a href="../sqlregular/#table-expression">table expression</a> <code>table_expression</code>, with the column with the name specified by <code>target_column_name</code> as the target, and all the remaining columns in the result as features. The optional <code>TEMPORARY</code> (shortened form: <code>TEMP</code>) modifier creates a classifier that exists for the duration of the Sclera session only; when the session ends, the classifier is deleted.</p>
<p>Notice the similarity with the <a href="#creating-tables-with-query-results"><code>CREATE TABLE AS</code> statement</a>.</p>
<p>In our running example, the following creates the classifier <code>myclassifier</code> and trains it on the table <code>survey</code>, with the column <code>isinterested</code> as target and the other columns as features:</p>
<pre><code>&gt; CREATE CLASSIFIER myclassifier(isinterested) USING survey;
</code></pre>
<p>After the classifier is created, you can see the classifier description using the <a href="../../interface/shell/#describe"><code>DESCRIBE</code> command</a>:</p>
<pre><code>&gt; DESCRIBE myclassifier;
</code></pre>
<h3 id="classifier-application">Classifier Application<a class="headerlink" href="#classifier-application" title="Permanent link">&#9668;</a></h3>
<p>The <a href="#classifier-training">classifier training</a> learns a function that estimates the value of the target column given the values of the feature columns. Applying the classifier on a table involves computing this function on each row of the table.</p>
<p>This feature introduces a new <a href="../sqlregular/#table-expression">table expression</a> with the following syntax:</p>
<pre><code>table_expression CLASSIFIED WITH classifier_name ( class_column_name )
</code></pre>
<p>In this expression, the classifier with the name specified by <code>classifier_name</code> is used to classify the rows in the result of the <a href="../sqlregular/#table-expression">table expression</a> <code>table_expression</code>, which must include all the feature columns present in the data on which the <a href="#classifier-training">classifier was trained</a> (it can include additional columns).</p>
<p>The result contains one row per input row. Each row contains all the columns in the input <code>table_expressions</code> and a new column, with the name as specified in <code>class_column_name</code>, containing the classifier output -- which is the classifier's estimate of the target variable given the feature values in the row.</p>
<p>Continuing our example, consider a new table <code>profiles</code> containing profile of a new group of people. The table <code>profiles</code> includes all the feature columns in of the classifier <code>myclassifier</code>.</p>
<p>We apply the classifier as follows:</p>
<pre><code>&gt; profiles CLASSIFIED WITH myclassifier(isprospect);
</code></pre>
<p>The output is a table with all columns in <code>profiles</code>, and a new column <code>isprospect</code> which, for each row, contains the result of applying the classifier function given the feature column values in that row.</p>
<p>This expression can be used in a query just like a table or a view. For instance, the following query gives the count of the prospects and non-prospects in the <code>profiles</code> table.</p>
<pre><code>&gt; SELECT isprospect, COUNT(*)
  FROM (profiles CLASSIFIED WITH myclassifier(isprospect))
  GROUP BY isprospect;
</code></pre>
<h2 id="clustering">Clustering<a class="headerlink" href="#clustering" title="Permanent link">&#9668;</a></h2>
<p>Consider a table <code>customers</code>, with one row per customer, and columns:</p>
<pre><code>age int
income real
married boolean
children int
car boolean
</code></pre>
<p>To understand your customers better, you may want to group these customers based on similarity across these attributes. Note that, unlike the classifier, we do not have a apriori input on these groups; there is no "target", and all the columns in the input are "feature" columns.</p>
<p>A <a href="http://en.wikipedia.org/wiki/Cluster_analysis">clusterer</a> is the right tool for this task. A clusterer maps data instances to one among a finite set of "clusters", such that data instances with similar features belong to the same cluster, and data instances with dissimilar features belong to different clusters. The clusterer can be trained given the feature values of a set of representative data instances, called the "training data".</p>
<p>In the example above, the table <code>customers</code> is the training data; each row in the table (representing a unique customer) is a data instance, with the columns as the feature variables. In business terminology, the clusters are <a href="http://en.wikipedia.org/wiki/Market_segment">market segments</a>, and this task is an instance of <a href="http://en.wikipedia.org/wiki/Market_segmentation">market segmentation</a>.</p>
<p>The trained clusterer can be used to assign the data instances to clusters. Since these data instances are assumed to be representative, we can use the same clusterer to map additional customers to clusters. In terms of the example, this means identifying the right market segment for a new customer.</p>
<p>In this section, we show <a href="#clusterer-training">how to train clusterers</a> in Sclera, and <a href="#clusterer-application">use them to assign clusters to new data instances</a> within a SQL query.</p>
<h3 id="clusterer-training">Clusterer Training<a class="headerlink" href="#clusterer-training" title="Permanent link">&#9668;</a></h3>
<p>The formal syntax for creating a classifier is as follows:</p>
<pre><code>CREATE [ { TEMPORARY | TEMP } ] CLUSTERER clusterer_name USING table_expression
</code></pre>
<p>This creates a classifier with the name specified by <code>clusterer_name</code>. The clusterer is trained using the result of the <a href="../sqlregular/#table-expression">table expression</a> <code>table_expression</code>, with all the columns in the result as features. The optional <code>TEMPORARY</code> (shortened form: <code>TEMP</code>) modifier creates a clusterer that exists for the duration of the Sclera session only; when the session ends, the clusterer is deleted.</p>
<p>Notice the similarity with the <a href="#creating-tables-with-query-results"><code>CREATE TABLE AS</code> statement</a> and <a href="#classifier-training"><code>CREATE CLASSIFIER</code> statement</a>.</p>
<p>In our running example, the following creates the clusterer <code>myclusterer</code> and trains it on the table <code>customers</code>:</p>
<pre><code>&gt; CREATE CLUSTERER myclusterer USING customers;
</code></pre>
<p>After the clusterer is created, you can see the clusterer description using the <a href="../../interface/shell/#describe"><code>DESCRIBE</code> command</a>:</p>
<pre><code>&gt; DESCRIBE myclusterer;
</code></pre>
<h3 id="clusterer-application">Clusterer Application<a class="headerlink" href="#clusterer-application" title="Permanent link">&#9668;</a></h3>
<p>The <a href="#clusterer-training">clusterer training</a> learns a function that computes the cluster for a data instance given the values of all the feature columns. Applying the clusterer on a table involves computing this function on each row of the table.</p>
<p>This feature introduces a new <a href="../sqlregular/#table-expression">table expression</a> with the following syntax:</p>
<pre><code>table_expression CLUSTERED WITH clusterer_name ( cluster_column_name )
</code></pre>
<p>In this expression, the clusterer with the name specified by <code>clusterer_name</code> is used to assign clusters to the rows in the result of the <a href="../sqlregular/#table-expression">table expression</a> <code>table_expression</code>, which must include all the feature columns present in the data on which the <a href="#clusterer-training">clusterer was trained</a> (it can include additional columns).</p>
<p>The result contains one row per input row. Each row contains all the columns in the input <code>table_expressions</code> and a new column, with the name as specified in <code>cluster_column_name</code>, containing the clusterer output.</p>
<p>Continuing our example, the clusterer can be applied to the table used to train the clusterer (<code>customers</code> in the above example), or to any other table or output of a query, as long as it includes all the feature columns of the training data.</p>
<p>We apply the clusterer to the table <code>customers</code> as follows:</p>
<pre><code>&gt; customers CLUSTERED WITH myclusterer(clusterid);
</code></pre>
<p>The output is a table with all columns in <code>customers</code>, and a new column <code>clusterid</code> which, for each row, contains the id of the cluster (an integer) assigned to that row.</p>
<p>This expression can be used in a query just like a table or a view. For instance, the following query gives the count of the customers in each cluster.</p>
<pre><code>&gt; SELECT clusterid, COUNT(*)
  FROM (customers CLUSTERED WITH myclusterer(clusterid))
  GROUP BY clusterid;
</code></pre>
<p><a class="anchor" name="sclera-weka"></a></p>
<h2 id="extended-syntax-for-using-specific-libraries-and-algorithms">Extended Syntax for Using Specific Libraries and Algorithms<a class="headerlink" href="#extended-syntax-for-using-specific-libraries-and-algorithms" title="Permanent link">&#9668;</a></h2>
<p>The classifier/clusterer syntax above is agnostic of the underlying library. Sclera uses <a href="http://www.cs.waikato.ac.nz/ml/weka/">Weka</a> as the default library, and specific classification/clustering algorithms as default. The default library is specified in the <a href="../../setup/configuration/#sclera-service-default-mlservice">configuration file</a>, and can be changed if required to an alternative supported library and the algorithms therein.</p>
<p>The <a href="../../setup/configuration/#sclera-service-default-mlservice">default library</a> can be overriden by explicitly mentioning the library (currently, <a href="http://www.cs.waikato.ac.nz/ml/weka/"><code>WEKA</code></a>) in the <code>CREATE</code> statements.</p>
<p>Moreover, you can select the specific algorithms to use for classification/clustering, and even provide the parameters. The algorithm names and parameters depend on the specific library. Sclera does not interpret the specified algorithm parameters, and merely passes them on to the appropriate APIs of the chosen library.</p>
<p>For instance, the following uses <code>FOOBARML</code> as the underlying library for creating the classifier (instead of the default, <a href="#classifier-training">as earlier</a>):</p>
<pre><code>&gt; CREATE FOOBARML CLASSIFIER myclassifier(isinterested) USING survey;
</code></pre>
<p>(The above assumes that a <a href="../../sdk/sdkextml/">plugin for <code>FOOBAR</code></a> has been installed.)</p>
<p>The following specifies the use of <a href="http://weka.sourceforge.net/doc.dev/weka/clusterers/SimpleKMeans.html"><code>SIMPLEKMEANS</code> algorithm</a> for clustering in Weka:</p>
<pre><code>&gt; CREATE WEKA CLUSTERER("SIMPLEKMEANS") myclusterer USING customers;
</code></pre>
<p>To further specify cluster counts as 3 (overriding the default 2):</p>
<pre><code>&gt; CREATE WEKA CLUSTERER("SIMPLEKMEANS", "-N 3") myclusterer USING customers;
</code></pre>
<p>The extended formal syntax for classification/clustering, incorporating these overrides, is discussed below.</p>
<h3 id="extended-syntax-for-classification">Extended Syntax for Classification<a class="headerlink" href="#extended-syntax-for-classification" title="Permanent link">&#9668;</a></h3>
<p>The extended formal syntax for creating a classifier is as follows:</p>
<pre><code>CREATE [ { TEMPORARY | TEMP } ] [ library_name ] CLASSIFIER [ ( algorithm_name [ , algorithm_options ] ) ] classifier_name ( target_column_name ) USING table_expression
</code></pre>
<ul>
<li>The optional <code>library_name</code> specifies the machine learning library to use for the task.<ul>
<li>If not specified, the <code>WEKA</code> is used (this default can be modified using the <a href="../../setup/configuration/#sclera-service-default-mlservice"><code>sclera.service.default.mlservice</code> configuration parameter</a>).</li>
</ul>
</li>
<li>The optional <code>algorithm_name</code> identifies the algorithm to be used in training the classifier.<ul>
<li>The following are supported: for <code>WEKA</code>:<ul>
<li><code>J48</code> (<a href="http://weka.sourceforge.net/doc.dev/weka/classifiers/trees/J48.html">documentation</a>)</li>
<li><code>HOEFFDINGTREE</code> (<a href="http://weka.sourceforge.net/doc.dev/weka/classifiers/trees/HoeffdingTree.html">documentation</a>)</li>
<li><code>LMT</code> (<a href="http://weka.sourceforge.net/doc.dev/weka/classifiers/trees/LMT.html">documentation</a>)</li>
<li><code>M5P</code> (<a href="http://weka.sourceforge.net/doc.dev/weka/classifiers/trees/M5P.html">documentation</a>)</li>
<li><code>RANDOMFOREST</code> (<a href="http://weka.sourceforge.net/doc.dev/weka/classifiers/trees/RandomForest.html">documentation</a>)</li>
<li><code>REPTREE</code> (<a href="http://weka.sourceforge.net/doc.dev/weka/classifiers/trees/REPTree.html">documentation</a>)</li>
<li><code>CLASSIFICATIONVIAREGRESSION</code> (<a href="http://weka.sourceforge.net/doc.dev/weka/classifiers/meta/ClassificationViaRegression.html">documentation</a>)</li>
<li><code>DECISIONTABLE</code> (<a href="http://weka.sourceforge.net/doc.dev/weka/classifiers/rules/DecisionTable.html">documentation</a>)</li>
<li><code>M5RULES</code> (<a href="http://weka.sourceforge.net/doc.dev/weka/classifiers/rules/M5Rules.html">documentation</a>)</li>
<li><code>ONER</code> (<a href="http://weka.sourceforge.net/doc.dev/weka/classifiers/rules/OneR.html">documentation</a>)</li>
<li><code>LOGISTIC</code> (<a href="http://weka.sourceforge.net/doc.dev/weka/classifiers/functions/Logistic.html">documentation</a>)</li>
<li><code>NAIVEBAYES</code> (<a href="http://weka.sourceforge.net/doc.dev/weka/classifiers/bayes/NaiveBayes.html">documentation</a>)</li>
</ul>
</li>
<li>If not specified, <code>J48</code> (for <code>WEKA</code>) is used as the default.</li>
</ul>
</li>
<li>The optional <code>algorithm_options</code> provides the configuration options (parameters) for the algorithm identified by <code>algorithm_name</code>.<ul>
<li>These options are passed as a <em>single</em> string, just as in a command line.</li>
<li>Please refer to the Weka documentation the respective algorithms, linked above, for details of the accepted options and defaults.</li>
<li>If not specified, the default parameters for the specified algorithm are used.</li>
</ul>
</li>
<li>Remaining parameters are as in the <a href="#classifier-training">abridged syntax</a> discussed earlier.</li>
</ul>
<h3 id="extended-syntax-for-clustering">Extended Syntax for Clustering<a class="headerlink" href="#extended-syntax-for-clustering" title="Permanent link">&#9668;</a></h3>
<p>The extended formal syntax for creating an clusterer is as follows:</p>
<pre><code>CREATE [ { TEMPORARY | TEMP } ] [ library_name ] CLUSTERER [ ( algorithm_name [ , algorithm_options ] ) ] clusterer_name USING table_expression
</code></pre>
<ul>
<li>The optional <code>library_name</code> specifies the machine learning library to use for the task.<ul>
<li>In the current version, only <code>WEKA</code> is accepted as Sclera currently only interfaces with <a href="http://www.cs.waikato.ac.nz/ml/weka">Weka</a> for clustering.</li>
<li>If not specified, <code>WEKA</code> is used (this default can be modified using the <a href="../../setup/configuration/#sclera-service-default-mlservice"><code>sclera.service.default.mlservice</code> configuration parameter</a>).</li>
</ul>
</li>
<li>The optional <code>algorithm_name</code> identifies the algorithm to be used in training the clusterer.<ul>
<li>The following are supported for <code>WEKA</code>:<ul>
<li><code>SIMPLEKMEANS</code> (<a href="http://weka.sourceforge.net/doc.dev/weka/clusterers/SimpleKMeans.html">documentation</a>)</li>
<li><code>COBWEB</code> (<a href="http://weka.sourceforge.net/doc.dev/weka/clusterers/Cobweb.html">documentation</a>)</li>
<li><code>EM</code> (<a href="http://weka.sourceforge.net/doc.dev/weka/clusterers/EM.html">documentation</a>)</li>
<li><code>FARTHESTFIRST</code> (<a href="http://weka.sourceforge.net/doc.dev/weka/clusterers/FarthestFirst.html">documentation</a>)</li>
<li><code>HIERARCHICAL</code> (<a href="http://weka.sourceforge.net/doc.dev/weka/clusterers/HierarchicalClusterer.html">documentation</a>)</li>
</ul>
</li>
<li>If not specified, <code>SIMPLEKMEANS</code> is used as the default.</li>
</ul>
</li>
<li>The optional <code>algorithm_options</code> provides the configuration options (parameters) for the algorithm identified by <code>algorithm_name</code>.<ul>
<li>These options are passed as a <em>single</em> string, just as in a command line.</li>
<li>Please refer to the Weka documentation the respective algorithms, linked above, for details of the accepted options and defaults.</li>
<li>If not specified, the default parameters for the specified algorithm are used.</li>
</ul>
</li>
<li>Remaining parameters are as in the <a href="#clusterer-training">abridged syntax</a> discussed earlier.</li>
</ul>

              
            </article>
          </div>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
    <nav class="md-footer__inner md-grid" aria-label="Footer">
      
        
        <a href="../sqlextarg/" class="md-footer__link md-footer__link--prev" aria-label="Previous: Selecting the Optimal" rel="prev">
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
          </div>
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Previous
              </span>
              Selecting the Optimal
            </div>
          </div>
        </a>
      
      
        
        <a href="../sqlcleaning/" class="md-footer__link md-footer__link--next" aria-label="Next: Data Cleaning" rel="next">
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Next
              </span>
              Data Cleaning
            </div>
          </div>
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4z"/></svg>
          </div>
        </a>
      
    </nav>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright &copy; 2012 - 2022 Sclera, Inc.
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
        <div class="md-social">
  
    
    
      
      
    
    <a href="https://github.com/scleradb" target="_blank" rel="noopener" title="github.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34-.46-1.16-1.11-1.47-1.11-1.47-.91-.62.07-.6.07-.6 1 .07 1.53 1.03 1.53 1.03.87 1.52 2.34 1.07 2.91.83.09-.65.35-1.09.63-1.34-2.22-.25-4.55-1.11-4.55-4.92 0-1.11.38-2 1.03-2.71-.1-.25-.45-1.29.1-2.64 0 0 .84-.27 2.75 1.02.79-.22 1.65-.33 2.5-.33.85 0 1.71.11 2.5.33 1.91-1.29 2.75-1.02 2.75-1.02.55 1.35.2 2.39.1 2.64.65.71 1.03 1.6 1.03 2.71 0 3.82-2.34 4.66-4.57 4.91.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2z"/></svg>
    </a>
  
    
    
      
      
    
    <a href="https://twitter.com/scleradb" target="_blank" rel="noopener" title="twitter.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M22.46 6c-.77.35-1.6.58-2.46.69.88-.53 1.56-1.37 1.88-2.38-.83.5-1.75.85-2.72 1.05C18.37 4.5 17.26 4 16 4c-2.35 0-4.27 1.92-4.27 4.29 0 .34.04.67.11.98C8.28 9.09 5.11 7.38 3 4.79c-.37.63-.58 1.37-.58 2.15 0 1.49.75 2.81 1.91 3.56-.71 0-1.37-.2-1.95-.5v.03c0 2.08 1.48 3.82 3.44 4.21a4.22 4.22 0 0 1-1.93.07 4.28 4.28 0 0 0 4 2.98 8.521 8.521 0 0 1-5.33 1.84c-.34 0-.68-.02-1.02-.06C3.44 20.29 5.7 21 8.12 21 16 21 20.33 14.46 20.33 8.79c0-.19 0-.37-.01-.56.84-.6 1.56-1.36 2.14-2.23z"/></svg>
    </a>
  
    
    
      
      
    
    <a href="https://www.linkedin.com/company/sclera-inc-" target="_blank" rel="noopener" title="www.linkedin.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 3a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h14m-.5 15.5v-5.3a3.26 3.26 0 0 0-3.26-3.26c-.85 0-1.84.52-2.32 1.3v-1.11h-2.79v8.37h2.79v-4.93c0-.77.62-1.4 1.39-1.4a1.4 1.4 0 0 1 1.4 1.4v4.93h2.79M6.88 8.56a1.68 1.68 0 0 0 1.68-1.68c0-.93-.75-1.69-1.68-1.69a1.69 1.69 0 0 0-1.69 1.69c0 .93.76 1.68 1.69 1.68m1.39 9.94v-8.37H5.5v8.37h2.77z"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    <script id="__config" type="application/json">{"base": "../..", "features": [], "translations": {"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.term.missing": "Missing", "select.version.title": "Select version"}, "search": "../../assets/javascripts/workers/search.092fa1f6.min.js"}</script>
    
    
      <script src="../../assets/javascripts/bundle.5a9542cf.min.js"></script>
      
    
  </body>
</html>